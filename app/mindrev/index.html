<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MindRev</title>
  <script src="js/vue.js"></script>
  <!-- 引入样式 -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <!-- 引入组件库 -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <!--  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>-->
  <style>
    .download_btn_wrapper {
      text-align: center;
    }

    .platform_title {
      margin-bottom: 10px;
    }

    .log {
      margin-top: 3em;
      font-size: small;
    }

  </style>
</head>
<body>

<div id="app">
  <!--  {{ message }}-->

  <h1>MindRev</h1>
  <div>

  </div>

  <!--  <div style="margin: 2em;text-align: center">-->
  <!--    下载方式-->
  <!--  </div>-->

  <div class="download_btn_wrapper">

    <div class="platform_title">Windows (1.0.2)下载：</div>
    <el-button @click="download('win')">Windows（64位）</el-button>
    <div style="text-align: center;font-size: small;color: gray;margin-top: 5px;">
      (Windows版本无需安装，解压后双击 MindRev.exe 即可运行)
    </div>


    <div style="margin-top: 5em;" class="platform_title">MacOS (1.0.2)下载：</div>
    <el-button @click="download('mac_intel')">MacOS (Intel)</el-button>
    <el-button @click="download('mac_m1')">MacOS (M1、M2)</el-button>
  </div>


  <div class="log">
    更新日志:
    <div>1.0.2：软件开源：<a href="https://github.com/my-yy/MindRev">https://github.com/my-yy/MindRev</a></div>
    <div>1.0.1：新增iThoughtsX支持</div>
    <div>1.0.0：首个版本，支持XMind</div>
  </div>

</div>

<script>
  var app = new Vue({
    el: '#app',
    data: {
      version: "1.0.2",
      version_mac: "1.0.2",
    },
    async created() {
      // const url = "https://hcs-app.oss-cn-hangzhou.aliyuncs.com/1_MindRev/version.json"
      // const {data} = await axios.post(url, {
      //   params: {
      //     ID: new Date().getTime()
      //   }
      // })
      // console.log("data", data)

    },
    methods: {
      download(name) {
        let url = "https://hcs-app.oss-cn-hangzhou.aliyuncs.com/1_MindRev/"
        if (name === "mac_m1") {
          url += `MindRev-${this.version_mac}-Mac-arm64.dmg`
        }
        if (name === "mac_intel") {
          url += `MindRev-${this.version_mac}-Mac-x64.dmg`
        }
        if (name === "win") {
          url += `MindRev-${this.version}-Windows-x64-Portable.zip`
        }
        console.log(url)
        window.open(url, "_blank")

      }

    }
  })
</script>

</body>
</html>
